[tox]
envlist = py27, py33, py34, pypy, pypy3, flake8, docs
skip_missing_interpreters = True

[testenv]
deps = -r{toxinidir}/tests/requirements.txt

commands = python setup.py test

[testenv:flake8]
basepython = python
commands = flake8 {{ cookiecutter.pkg_name }}
deps = flake8

[testenv:docs]
basepython = python
whitelist_externals =
    rm
    cd
commands =
	rm -f {envtmpdir}/docs/{{ cookiecutter.repo_name }}.rst
	rm -f {envtmpdir}/docs/modules.rst
	sphinx-apidoc -o {envtmpdir}/docs/ {envtmpdir}/{{ cookiecutter.repo_name }}
    sphinx-build -W -b html -d {envtmpdir}/docs/doctrees docs {envtmpdir}/docs/html
deps = -r{toxinidir}/docs/requirements.txt

